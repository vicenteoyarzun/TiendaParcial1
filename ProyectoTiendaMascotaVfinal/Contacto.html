<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="Productos.css" />
  <title>Contacto</title>
  <style>
  
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f5f5f5;
    }
    header {
      background: #ff9443;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 00px 30px;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 1000;
      box-sizing: border-box;
 
    }


    header nav a {
      margin: 0 35px;
      text-decoration: none;
      color: #ffffff;
      font-weight: 500;
    }
    .cart {
      font-weight: bold;
      color: white;
      cursor: pointer;
      margin-left: 20px;
      white-space: nowrap;
      position: relative;
      display: flex;
      align-items: center;
    }
    #carrito-detalle {
      position: fixed;
      top: 70px;
      right: 30px;
      background: #fff;
      border: 1px solid #ccc;
      padding: 15px;
      display: none;
      z-index: 2000;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      width: 300px;
    }

    main {
      padding: 30px 20px;
      max-width: 1000px;
      margin: 100px auto 0;
    }
    
    .contact-wrap {
      background-color: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0,0,0,0.05);
    }
    
    .logo-emp {
      width: 80px;
      height: 80px;
      background-color: #ff8c00;
      border-radius: 50%;
      margin: 0 auto 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
    }
    
    h2 {
      text-align: center;
      color: #000000;
      margin-bottom: 30px;
    }
    
    .formulario {
      max-width: 600px;
      margin: 0 auto;
    }
    
    .formulario h3 {
      color: #000000;
      text-align: center;
      margin-bottom: 25px;
    }
    
    form {
      display: flex;
      flex-direction: column;
    }
    
    label {
      margin-bottom: 5px;
      font-weight: bold;
      color: #555;
    }
    
    input, textarea {
      margin-bottom: 20px;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-size: 16px;
    }
    
    input:focus, textarea:focus {
      outline: none;
      border-color: #ff8c00;
      box-shadow: 0 0 5px rgba(255, 140, 0, 0.3);
    }
    
    button {
      background-color: #000000;
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 5px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    
    button:hover {
      background-color: #ff6a00;
    }
  </style>
</head>
<body>
  <header>
    <div class="logo">
      <img src="Imagenes/LogoPaginaweb.png" alt="LogoPagina">
    </div>
    <nav>
      <a href="PaginaPrincipalHome.html">Home</a>
      <a href="Productos.html">Productos</a>
      <a href="nosotros.html">Nosotros</a>
      <a href="Blogs.html">Blogs</a>
      <a href="Contacto.html">Contacto</a>
    </nav>
    <div class="cart">
      <img src="Imagenes/CarritoCompraBlanco.png" alt="Carrito" style="height:40px; vertical-align:middle;">
      <span id="cart-count" style="background:red; color:white; border-radius:50%; padding:2px 8px; font-size:14px; position:relative; left:-15px; top:-10px;">0</span>
      <div id="carrito-detalle"></div>
    </div>
  </header>

  <main>
    <div class="contact-wrap">
      <div class="logo-emp">Logo</div>
      <h2>Nombre Empresa</h2>

      <section class="formulario">
        <h3>FORMULARIO DE CONTACTOS</h3>
        <form id="contactForm">
          <label for="nombre">Nombre Completo</label>
          <input id="nombre" type="text" required>

          <label for="correo">Correo</label>
          <input id="correo" type="email" required>

          <label for="asunto">Asunto</label>
          <input id="asunto" type="text" required>

          <label for="mensaje">Contenido</label>
          <textarea id="mensaje" rows="5" required></textarea>

          <button type="submit">ENVIAR MENSAJE</button>
        </form>
      </section>
    </div>
  </main>

  <script>
    function obtenerCarrito() {
      return JSON.parse(localStorage.getItem('carrito')) || [];
    }

    function eliminarProductoDelCarrito(idx, event) {
      if (event) event.stopPropagation();
      let carrito = obtenerCarrito();
      carrito.splice(idx, 1);
      localStorage.setItem('carrito', JSON.stringify(carrito));
      mostrarDetalleCarrito();
      actualizarContadorCarrito();
    }

    function mostrarDetalleCarrito() {
      const carrito = obtenerCarrito();
      const contenedor = document.getElementById('carrito-detalle');
      if (!contenedor) return;
      
      let html = '<h3>Productos en el carrito</h3><ul style="list-style:none; padding:0;">';
      
      if (carrito.length === 0) {
        html += '<li>El carrito está vacío</li>';
      } else {
        carrito.forEach((prod, idx) => {
          html += `<li>
            ${prod.nombre} x${prod.cantidad || 1} - $${prod.precio * (prod.cantidad || 1)}
            <button onclick="eliminarProductoDelCarrito(${idx}, event)" style="color:red; border:none; background:none; font-size:16px; margin-left:10px; cursor:pointer;">✖</button>
          </li>`;
        });
      }
      
      html += '</ul>';
      html += `<button onclick="window.location.href='CarritoCompra.html'" style="margin-top:10px; padding:8px 16px;">Ir al carrito</button>`;
      contenedor.innerHTML = html;
      contenedor.style.display = 'block';
    }
    function actualizarContadorCarrito() {
      const carrito = obtenerCarrito();
      const total = carrito.reduce((sum, prod) => sum + (prod.cantidad || 1), 0);
      const contador = document.getElementById('cart-count');
      if (contador) contador.textContent = total;
    }

    document.addEventListener('DOMContentLoaded', function() {
      // Mostrar el detalle del carrito al hacer clic en el ícono
      const cartImg = document.querySelector('.cart img');
      if (cartImg) {
        cartImg.addEventListener('click', function(e) {
          e.stopPropagation();
          mostrarDetalleCarrito();
        });
      }
      document.addEventListener('click', function(e) {
        const contenedor = document.getElementById('carrito-detalle');
        const cartElement = document.querySelector('.cart');
        
        if (contenedor && contenedor.style.display === 'block' && 
            !contenedor.contains(e.target) && !cartElement.contains(e.target)) {
          contenedor.style.display = 'none';
        }
      });
      actualizarContadorCarrito();

      document.getElementById("contactForm").addEventListener("submit", function(event) {
        event.preventDefault(); // evita recargar la página

        const nombre = document.getElementById("nombre").value;
        const correo = document.getElementById("correo").value;
        const asunto = document.getElementById("asunto").value;
        const mensaje = document.getElementById("mensaje").value;

        alert("✅ Mensaje enviado:\n\n" +
              "Nombre: " + nombre + "\n" +
              "Correo: " + correo + "\n" +
              "Asunto: " + asunto + "\n" +
              "Mensaje: " + mensaje);

        document.getElementById("contactForm").reset();
      });
    });
  </script>
</body>
</html>